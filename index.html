<!DOCTYPE html>
<html lang="ar">
<head>
  <link rel="icon" href="favicon.ico" type="image/x-icon">

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BLUE FOX TASKS</title>

<style>
*{box-sizing:border-box;font-family:'Segoe UI',sans-serif;margin:0;padding:0;}
body{min-height:100vh;background:radial-gradient(circle at top,#0aa2ff,#001f3f);display:flex;justify-content:center;align-items:flex-start;gap:20px;padding:20px;color:white;transition:0.3s;}

.container{
  width:100%;
  max-width:500px;
  display:flex;
  flex-direction:column;
  gap:15px;
  border-radius:30px;
  background:linear-gradient(145deg,#1ec9ff,#005eff);
  box-shadow:0 30px 60px rgba(0,0,0,.6),inset 0 2px 6px rgba(255,255,255,.4);
  padding:20px;
  position:relative;
  overflow:hidden;
}
.container::before{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.35),transparent);
  transform:translateX(-100%);
  transition:.7s;
}
.container:hover::before{transform:translateX(100%);}
.container:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 40px 80px rgba(0,0,0,.9);}

h2{text-align:center;font-size:1.6rem;font-weight:800;margin-bottom:10px;}

.top-actions{
  display:flex;
  gap:10px;
  margin-bottom:10px;
}
.top-actions button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:12px;
  font-size:1rem;
  cursor:pointer;
  background:linear-gradient(145deg,#ff6a00,#ee0979);
  color:white;
  transition:0.3s;
}
.top-actions button:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.5);}

input, select{
  width:100%;
  padding:14px 15px;
  border:none;
  border-radius:15px;
  margin-bottom:12px;
  font-size:1rem;
  outline:none;
  background:rgba(0,0,0,0.3);
  color:white;
  transition:0.3s;
}
input:focus, select:focus{background:rgba(0,0,0,0.4);}

.addBtn{
  background:linear-gradient(145deg,#00ff6a,#00c851);
  color:white;
  padding:14px;
  border:none;
  border-radius:12px;
  font-size:1.1rem;
  cursor:pointer;
}
.addBtn:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.5);}

.task{
  background:rgba(0,0,0,0.3);
  border-radius:20px;
  padding:15px;
  margin-top:10px;
  font-size:1rem;
  transition:0.3s;
}
.task.done{opacity:0.6;text-decoration:line-through;}

.actions{
  display:flex;
  gap:10px;
  margin-top:10px;
}
.actions button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:12px;
  font-size:0.95rem;
  cursor:pointer;
  transition:0.3s;
}
.actions .doneBtn{background:linear-gradient(145deg,#00ff6a,#00c851);color:white;}
.actions .doneBtn:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.5);}
.actions .del{background:linear-gradient(145deg,#ff3d3d,#ff0000);color:white;}
.actions .del:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.5);}

/* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ / Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ */
body.light{background:radial-gradient(circle at top,#f5f7fa,#c3cfe2);color:#000;}
body.light .container{background:linear-gradient(145deg,#a0c4ff,#005eff);}
body.light input,body.light select{background:rgba(255,255,255,0.3);color:#000;}
body.light .addBtn{background:linear-gradient(145deg,#00ff6a,#00c851);color:#000;}
body.light .actions .doneBtn{background:linear-gradient(145deg,#00ff6a,#00c851);}
body.light .actions .del{background:linear-gradient(145deg,#ff3d3d,#ff0000);}

/* Ù…ØªØ¬Ø§ÙˆØ¨ Ù„Ù„Ø¬ÙˆØ§Ù„ */
@media(max-width:600px){
  .container{width:95%;padding:15px;}
  input,select,.addBtn,.top-actions button{font-size:1rem;padding:12px;}
}
</style>

</head>
<body>

<div class="container">
  <h2 id="title">ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</h2>

  <div class="top-actions">
    <button onclick="toggleLang()">ğŸŒ Ø¹Ø±Ø¨ÙŠ / English</button>
    <button onclick="toggleTheme()">ğŸŒ™ / â˜€ï¸</button>
  </div>

  <input id="taskText" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù‡Ù…Ø©">
  <input id="taskDate" type="datetime-local">
  <button class="addBtn" onclick="addTask()">â• Ø¥Ø¶Ø§ÙØ©</button>

  <div id="tasks"></div>
</div>

<script>
let lang = localStorage.getItem("lang") || "ar";
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];

const texts={
  ar:{
    title:"ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…",
    placeholder:"Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù‡Ù…Ø©",
    add:"â• Ø¥Ø¶Ø§ÙØ©",
    done:"âœ” ØªÙ…",
    del:"âœ– Ø­Ø°Ù",
    notify:"â° Ù„Ø¯ÙŠÙƒ Ù…Ù‡Ù…Ø© Ø§Ù„Ø¢Ù†"
  },
  en:{
    title:"ğŸ“‹ To-Do List",
    placeholder:"Write a task",
    add:"â• Add",
    done:"âœ” Done",
    del:"âœ– Delete",
    notify:"â° You have a task now"
  }
};

function save(){ localStorage.setItem("tasks",JSON.stringify(tasks)); }

function render(){
  document.getElementById("tasks").innerHTML="";
  tasks.forEach((t,i)=>{
    const div=document.createElement("div");
    div.className="task"+(t.done?" done":"");
    div.innerHTML=`
      <strong>${t.text}</strong><br>
      ğŸ“… ${new Date(t.date).toLocaleString()}
      <div class="actions">
        <button class="doneBtn" onclick="toggleDone(${i})">${texts[lang].done}</button>
        <button class="del" onclick="delTask(${i})">${texts[lang].del}</button>
      </div>`;
    document.getElementById("tasks").appendChild(div);
  });
}

function addTask() {
  const text = document.getElementById("taskText").value;
  const date = document.getElementById("taskDate").value;
  if (!text || !date) return;

  const task = { text, date, done: false, notified: false };
  tasks.push(task);

  document.getElementById("taskText").value = "";
  document.getElementById("taskDate").value = "";
  save();
  render();
}

function delTask(i){ tasks.splice(i,1); save(); render(); }

function toggleDone(i){ tasks[i].done=!tasks[i].done; save(); render(); }

function toggleTheme(){ document.body.classList.toggle("light"); }

function toggleLang(){
  lang = lang==="ar"?"en":"ar";
  localStorage.setItem("lang",lang);
  applyLang();
}

function applyLang(){
  document.documentElement.lang=lang;
  document.getElementById("title").innerText=texts[lang].title;
  document.getElementById("taskText").placeholder=texts[lang].placeholder;
  document.querySelector(".addBtn").innerText=texts[lang].add;
  render();
}

// Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù…Ø¹ ØµÙˆØª
function checkNotify(){
  if(Notification.permission!=="granted"){ Notification.requestPermission(); }
  const now = new Date();
  tasks.forEach(t=>{
    if(!t.done && !t.notified){
      const taskTime = new Date(t.date);
      if(now >= taskTime){
        new Notification(texts[lang].notify, {body: t.text});
        // ØµÙˆØª Ø¥Ø´Ø¹Ø§Ø± ØµØºÙŠØ±
        const audio = new Audio('https://www.soundjay.com/buttons/sounds/beep-07.mp3');
        audio.play();
        t.notified = true;
        save();
      }
    }
  });
}

applyLang();
render();
setInterval(checkNotify, 1000); // ÙŠÙØ­Øµ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©
</script>

</body>
</html>


